<script>


    // Var globale : DANGEREUX
    var v1_compteur = 0; // globale
    var v1_MAX = 5;

    // BESOIN de variables 'privées' : faire des closures ('fermetures')
    // Tant qu'une référence vers un scope existe dans le navigateur
    // le navigateur "persiste" ce scope (maintient la mémoire accessible)

    // scope : l'ensemble des variables visibles depuis un bloc / une fonction

    function mkScope (param_formel1, param_formel2) {
        var variable_locale;
        // accessible ici : compteur, max (var. globales)
        // param_formel1, param_formel2, variable_locale => var. locales
        // remises à zéro à chaque nouvel appel de la fonction

        var aux = function (pf1, pf2) {
            var vl1;
            // quelles sont les variables visibles depuis l'intérieur de aux ?
            // les var. globales
            // les var. locales de mkScope
            // les var. locales de aux (réinitialisées à chaque appel de aux)
        };

        return aux;
        // tant qu'il existera une référence vers aux accessible dans le code du navigateur
        // le scope de aux restera disponible : Y COMPRIS LES VARIABLES LOCALES DE MKSCOPE !!
    }


    function mkDebug(MAX) {
        var compteur=0;
        return function (s) {
            // si s n'est pas fourni, afficher le compteur
            if (s == undefined) {
                console.log(compteur);
                return;
            }

            // Objectif : afficher s
            // Ne plus afficher après MAX essais
            if (compteur++ < MAX) {
                console.log(s);
            }
        }
    }

    function mkDebugV2(MAX) {
        var compteur=0;
        return {
            print:function(s) {
                if (compteur++ < MAX) {
                    console.log(s);
                }
            },
            reset:function() {compteur=0;},
            resetMax:function(m){MAX=m;},
            getCompteur:function() {console.log(compteur);}
        }; // Objet JSON "Javascript Object Notation"
    }


    function debug(s) {

        // si s n'est pas fourni, afficher le compteur
        if (s == undefined) {
            console.log(v1_compteur);
            return;
        }

        // Objectif : afficher s
        // Ne plus afficher après MAX essais
        if (v1_compteur++ < v1_MAX) {
            console.log(s);
        }
    }


    function html(refOrId) {
        if (typeof refOrId == "string") {
            refOrId  = document.getElementById(refOrId);
        }
    }
    function val(refOrId) {
        if (typeof refOrId == "string") {
            refOrId  = document.getElementById(refOrId);
        }
    }

    // cacher/afficher des balises
    function show(refOrId,mode) {
        // mode par défaut : "block"

        if (typeof refOrId == "string") {
            refOrId  = document.getElementById(refOrId);
        }

        if (mode != undefined) refOrId.style.display = mode;
        else refOrId.style.display = "block";
    }


    function hide(refOrId) {
        if (typeof refOrId == "string") {
            refOrId  = document.getElementById(refOrId);
        }
        refOrId.style.display = "none";
    }


</script>

